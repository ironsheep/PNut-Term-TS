#!/bin/bash

# Test runner script for individual test files
TEST_FILES=(
"canvasRenderer.test.ts"
"cogMessageRouting.test.ts"
"colorCommand.test.ts"
"colorTranslator.test.ts"
"context-ide-mode.test.ts"
"debugBitmapWin.commands.test.ts"
"debugBitmapWin.integration.test.ts"
"debugBitmapWin.test.ts"
"debugColor.test.ts"
"debugDebuggerWin.test.ts"
"debugFftCircularBuffer.test.ts"
"debugFftDataManagement.test.ts"
"debugFftRendering.test.ts"
"debugFftWin.test.ts"
"debugLogicWin.test.ts"
"debugMidiWin.integration.test.ts"
"debugMidiWin.test.ts"
"debugPlotWin.commands.test.ts"
"debugPlotWin.integration.test.ts"
"debugPlotWin.test.ts"
"debugScopeWin.test.ts"
"debugScopeXyWin.test.ts"
"debugTermWin.test.ts"
"debugWindowBase.test.ts"
"debuggerDataManager.test.ts"
"debuggerInteraction.test.ts"
"debuggerProtocol.test.ts"
"debuggerRenderer.test.ts"
"disassembler.test.ts"
"displaySpecParser.test.ts"
"fftAccuracyVerification.test.ts"
"fftProcessor.test.ts"
"ide-mode.test.ts"
"inputForwarder.test.ts"
"integrationTests.test.ts"
"layerManager.test.ts"
"logicTrigger.test.ts"
"lutManager.test.ts"
"memoryLeakDetection.test.ts"
"multiCogDebugger.test.ts"
"packedDataIntegration.test.ts"
"packedDataProcessor.test.ts"
"performanceBenchmark.test.ts"
"persistenceManager.test.ts"
"pianoKeyboardLayout.test.ts"
"recordingCatalog.test.ts"
"recordingManager.test.ts"
"routerLogger.test.ts"
"routerLoggingPerformance.test.ts"
"scopeTrigger.test.ts"
"scopeXyRenderer.test.ts"
"screenManager.test.ts"
"spacingDirective.test.ts"
"spin2NumericParser.test.ts"
"spriteManager.test.ts"
"tracePatternProcessor.test.ts"
"triggerProcessor.test.ts"
"windowFunctions.test.ts"
"windowRouter.test.ts"
"windowRouterIntegration.test.ts"
)

echo "Testing file: $1"
npx jest tests/$1 --no-coverage 2>&1 | grep -E "(PASS|FAIL|Test Suites:|Tests:|✓|✗)" | tail -20