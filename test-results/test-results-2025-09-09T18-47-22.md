# Test Results - 2025-09-09T18:47:22

## Test Session Summary
**Date/Time**: 2025-09-09 18:47:22  
**Session Type**: Window Construction and Update Processing Testing  
**Hardware**: P2 Hardware Testing  
**Build**: Latest with deferred construction fixes  

## Console Log Extract (Last 100 Lines)
```
[DEBUG LOGGER] Added to write buffer: [BACKTICK_WINDOW] `MyScope 34
[MESSAGE-POOL] Released pooled message #99 from DebugLogger handler
[DEBUG LOGGER] Flushed 57 bytes to log file
[DEBUG LOGGER] Sending batch of 1 messages to window
[SERIAL RX 698207957750¬µs] Received 13 bytes
[SERIAL RX HEX/ASCII]:
  0000: $60 $4D $79 $53 $63 $6F $70 $65  $20 $33 $35 $0D $0A               `MyScope 35..
[TWO-TIER] üîÑ SerialMessageProcessor.receiveData(): 13 bytes, running: true
[TWO-TIER] üéØ Routing message: BACKTICK_WINDOW, 11 bytes
[TWO-TIER] üéØ Found 2 destinations for BACKTICK_WINDOW
[MessageRouter] Creating pooled message for 2 consumers
[MessageRouter] Pooled message #99 created with 2 consumers
[TWO-TIER] handleWindowCommand() - [`MyScope 35]: lineParts=[`MyScope | 35](2)
scoW: at updateContent() with lineParts=[`MyScope, 35]
scoW: at updateContent() with numeric data: [`MyScope,35](2)
scoW: isSpinNumber(35): isValid=(true)  -> (35)
scoW: isSpinNumber(35): isValid=(true)  -> (35)
scoW: * UPD-INFO channels=1, samples=1, samples=[35]
scoW: * UPD-INFO recorded sample 35 for channel 0, channelSamples[0].samples.length=100
scoW: at updateScopeChannelData(channel-0, w/#100) sample(s), didScroll=(false)
scoW:   -- scaleAndInvertValue(35) => (35->28) range=[0:63] ySize=(64)
scoW:   -- scaleAndInvertValue(34) => (34->29) range=[0:63] ySize=(64)
scoW:   -- DRAW size=(256,65), offset=(10,0)
scoW:   -- #100 currSample=(35->28) @ rc=[39,198], prev=[40,196]
[TWO-TIER] Routed to existing window: MyScope
[MESSAGE-POOL] Released pooled message #99 from WindowCreator handler
[TWO-TIER] üì® Routing message to Debug Logger: BACKTICK_WINDOW, 11 bytes
[TWO-TIER] ‚úÖ Debug Logger window available, processing message
[DEBUG LOGGER] Processing typed message: BACKTICK_WINDOW
[DEBUG LOGGER] Added to write buffer: [BACKTICK_WINDOW] `MyScope 35
[MESSAGE-POOL] Released pooled message #99 from DebugLogger handler
[DEBUG LOGGER] Flushed 57 bytes to log file
[DEBUG LOGGER] Sending batch of 1 messages to window
[SERIAL RX 698211014338¬µs] Received 47 bytes
[SERIAL RX HEX/ASCII]:
  0000: $60 $4D $79 $4C $6F $67 $69 $63  $20 $63 $6C $6F $73 $65 $0D $0A   `MyLogic close..
  0010: $60 $4D $79 $54 $65 $72 $6D $20  $63 $6C $6F $73 $65 $0D $0A $60   `MyTerm close..`
  0020: $4D $79 $53 $63 $6F $70 $65 $20  $63 $6C $6F $73 $65 $0D $0A       MyScope close..
[TWO-TIER] üîÑ SerialMessageProcessor.receiveData(): 47 bytes, running: true
[TWO-TIER] üéØ Routing message: BACKTICK_WINDOW, 14 bytes
[TWO-TIER] üéØ Found 2 destinations for BACKTICK_WINDOW
[MessageRouter] Creating pooled message for 2 consumers
[MessageRouter] Pooled message #99 created with 2 consumers
[TWO-TIER] handleWindowCommand() - [`MyLogic close]: lineParts=[`MyLogic | close](2)
lcgW: at updateContent(`MyLogic close)
lcgW:   -- at [close] in lineParts[1]
lcgW: at closeDebugWindow() LOGIC
Base: - Closing e window
Base: - Unregistered from WindowRouter: MyLogic
Base: - e window closing...
Base: - e window closed
[TWO-TIER] Routed to existing window: MyLogic
[MESSAGE-POOL] Released pooled message #99 from WindowCreator handler
[TWO-TIER] üì® Routing message to Debug Logger: BACKTICK_WINDOW, 14 bytes
[TWO-TIER] ‚úÖ Debug Logger window available, processing message
[DEBUG LOGGER] Processing typed message: BACKTICK_WINDOW
[DEBUG LOGGER] Added to write buffer: [BACKTICK_WINDOW] `MyLogic close
[MESSAGE-POOL] Released pooled message #99 from DebugLogger handler
[TWO-TIER] üéØ Routing message: BACKTICK_WINDOW, 13 bytes
[TWO-TIER] üéØ Found 2 destinations for BACKTICK_WINDOW
[MessageRouter] Creating pooled message for 2 consumers
[MessageRouter] Pooled message #99 created with 2 consumers
[TWO-TIER] handleWindowCommand() - [`MyTerm close]: lineParts=[`MyTerm | close](2)
trmW: at closeDebugWindow() TERM
Base: - Closing DebugTermWindow window
Base: - Unregistered from WindowRouter: MyTerm
Base: - DebugTermWindow window closing...
Base: - DebugTermWindow window closed
[TWO-TIER] Routed to existing window: MyTerm
[MESSAGE-POOL] Released pooled message #99 from WindowCreator handler
[TWO-TIER] üì® Routing message to Debug Logger: BACKTICK_WINDOW, 13 bytes
[TWO-TIER] ‚úÖ Debug Logger window available, processing message
[DEBUG LOGGER] Processing typed message: BACKTICK_WINDOW
[DEBUG LOGGER] Added to write buffer: [BACKTICK_WINDOW] `MyTerm close
[MESSAGE-POOL] Released pooled message #99 from DebugLogger handler
[TWO-TIER] üéØ Routing message: BACKTICK_WINDOW, 14 bytes
[TWO-TIER] üéØ Found 2 destinations for BACKTICK_WINDOW
[MessageRouter] Creating pooled message for 2 consumers
[MessageRouter] Pooled message #99 created with 2 consumers
[TWO-TIER] handleWindowCommand() - [`MyScope close]: lineParts=[`MyScope | close](2)
scoW: at updateContent() with lineParts=[`MyScope, close]
scoW: at closeDebugWindow() SCOPE
scoW: - Closing DebugScopeWindow window
scoW: - Unregistered from WindowRouter: scope-1757443458379
scoW: - DebugScopeWindow window closing...
scoW: - DebugScopeWindow window closed
[TWO-TIER] Routed to existing window: MyScope
[MESSAGE-POOL] Released pooled message #99 from WindowCreator handler
[TWO-TIER] üì® Routing message to Debug Logger: BACKTICK_WINDOW, 14 bytes
[TWO-TIER] ‚úÖ Debug Logger window available, processing message
[DEBUG LOGGER] Processing typed message: BACKTICK_WINDOW
[DEBUG LOGGER] Added to write buffer: [BACKTICK_WINDOW] `MyScope close
[MESSAGE-POOL] Released pooled message #99 from DebugLogger handler
[DEBUG LOGGER] Flushed 60 bytes to log file
[DEBUG LOGGER] Sending batch of 3 messages to window
[DEBUG LOGGER] Flushed 59 bytes to log file
[DEBUG LOGGER] Flushed 60 bytes to log file
2025-09-09T18:44:26.398Z [INFO ] UNREGISTER: Window unregistered: MyLogic. Active windows: 3
2025-09-09T18:44:26.403Z [INFO ] UNREGISTER: Window unregistered: MyTerm. Active windows: 2
2025-09-09T18:44:26.403Z [INFO ] UNREGISTER: Window unregistered: scope-1757443458379. Active windows: 1
```

## Test Results Summary

### ‚úÖ **SCOPE WINDOW - WORKING BEAUTIFULLY**
- **Status**: ‚úÖ EXCELLENT - All functionality working perfectly
- **Deferred Construction**: ‚úÖ Working correctly
- **Data Updates**: ‚úÖ Processing numeric data updates properly  
- **Window Sizing**: ‚úÖ Perfect sizing without scrollbars
- **Canvas Rendering**: ‚úÖ Drawing scope traces correctly
- **Evidence**: 
  - Log shows: `scoW: * UPD-INFO recorded sample 35 for channel 0, channelSamples[0].samples.length=100`
  - Drawing coordinates: `scoW: -- #100 currSample=(35->28) @ rc=[39,198], prev=[40,196]`
  - Proper scaling: `scoW: -- scaleAndInvertValue(35) => (35->28) range=[0:63] ySize=(64)`

### ‚ùå **LOGIC WINDOW - UPDATE PROCESSING ISSUE**
- **Status**: ‚ùå BROKEN - Window creates but no data updates visible
- **Window Creation**: ‚úÖ Window appears correctly (immediate construction working)
- **Data Updates**: ‚ùå NOT processing update messages - no data visible on window
- **Evidence**: 
  - Window closes properly: `lcgW: at closeDebugWindow() LOGIC`
  - But no data update messages seen in logs for Logic window
- **Root Cause**: Logic window may not be receiving or processing data updates

### ‚ùå **TERMINAL WINDOW - UPDATE PROCESSING ISSUE**  
- **Status**: ‚ùå BROKEN - Window creates but no data updates visible
- **Window Creation**: ‚úÖ Window appears correctly (immediate construction working)
- **Data Updates**: ‚ùå NOT processing update messages - no data visible on window
- **Evidence**:
  - Window closes properly: `trmW: at closeDebugWindow() TERM`
  - But no data update messages seen in logs for Terminal window  
- **Root Cause**: Terminal window may not be receiving or processing data updates

## Priority Issues to Address

### üî¥ **HIGH PRIORITY: Logic and Terminal Window Data Updates**
Both Logic and Terminal windows appear to have the same issue - they create successfully but are not processing data update messages. The logs show:

1. **Scope Window**: Shows abundant data processing logs (`scoW: * UPD-INFO`, drawing operations, etc.)
2. **Logic/Term Windows**: Only show window close operations, no data processing logs

**Suspected Issue**: Message routing or update processing broken for Logic/Term windows after uncommenting them.

### üìã **Next Steps Required**
1. **Investigate message routing** - Why aren't Logic/Term getting data messages?
2. **Check update processing** - Are the updateContent methods being called?  
3. **Verify window ready state** - Are Logic/Term windows properly initialized for updates?
4. **Test with simple data** - Send basic test data to each window type

---
**Notes**: This test session confirms the deferred construction fixes are working excellently for Scope windows, but reveals a critical issue with Logic and Terminal window data processing that needs immediate attention.